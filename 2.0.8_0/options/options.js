(()=>{const e=[t("displayAllButton"),t("tags"),t("userFolder"),t("position"),t("coverSize")];function t(e){return document.getElementById(e)}function n(){const n=t("folder").style,s=t("folderName");chrome.storage.local.get(["all","tags","folder","path","position","cover"],t=>{t.all==!0?e[0].checked=!0:e[0].checked=!1,t.tags==!0?e[1].checked=!0:e[1].checked=!1,t.position==!0?e[3].checked=!0:e[3].checked=!1,e[4].value=t.cover,t.folder==!0?(s.value=t.path,e[2].checked=!0,n.visibility="visible",s.oninput=()=>{chrome.storage.local.set({path:s.value.replace(/[^a-z,0-9,A-Z,а-я,А-Я,-,_]/gi,"")})}):(e[2].checked=!1,n.visibility="hidden",n.height=0)})}function s(t){chrome.storage.local.get(["all","tags","folder","position"],s=>{t.addEventListener("change",()=>{t==e[0]&&chrome.storage.local.set({all:e[0].checked}),t==e[1]&&chrome.storage.local.set({tags:e[1].checked}),t==e[2]&&(chrome.storage.local.set({folder:e[2].checked}),n()),t==e[3]&&(chrome.storage.local.set({position:e[3].checked}),n()),t==e[4]&&chrome.storage.local.set({cover:e[4].value})})})}chrome.storage.local.get("path",t=>{(!t.path||t.path.length==0)&&chrome.storage.local.set({folder:!1,path:""}),n();for(let t in e)s(e[t])})})()